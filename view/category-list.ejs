<!DOCTYPE html>
<html>


<head>
  <%- include ('partials/head');%>
</head>
<%- include("partials/loader")%>
  <%- include ('partials/header');%>

    <div id="tt-pageContent"></div>
    <div class="container-indent">
      <div class="container container-fluid-custom-mobile-padding">
        <h1 class="tt-title-subpages noborder">My Course</h1>
        <%if (categories !=null){ categories.forEach(function(category) {%>

          <div class="tt-wrapper" style="margin-bottom: 50px">
            <div class="tt-table-responsive">
              <tbody>
  <head>
    <%- include ('partials/head');%>
  </head>
  <%- include("partials/loader")%> <%- include ('partials/header');%>
 
  <div id="tt-pageContent"></div>
  <div class="container-indent">
    <div class="container container-fluid-custom-mobile-padding">
      <h1 class="tt-title-subpages noborder">My Course</h1>

      <div class="w-100 d-flex">
        <button
          class="btn btn-primary ml-auto"
          role="button"
          data-toggle="modal"
          data-target="#add-category-modal"
        >
          Thêm lĩnh vực
        </button>
      </div>
      <%if (categories != null){ categories.forEach(function(category) {%>

      <% categories.forEach((category)=> {%>
      <div class="tt-wrapper" style="margin-bottom: 50px">
        <div class="tt-table-responsive">
          <tbody>
            <tr>
              <td>
                <h2><%= category.name %></h2>
              </td>
              <td>
                <% category.child.forEach(child=>{%>
                <tr>
                  <td>
                    <h2>
                      <%= category.name %>
                    </h2>
                  </td>
                  <td>
                    <% category.child.forEach(child=>{%>
                 <tr>
                  <div class="modal fade" id="change-category-child-<%= child._id %>" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <form method="post" novalidate="novalidate"
                          action="/category-list/updateChild/<%= child._id %>">
                          <div class="modal-body">
                            <div class="form-group">
                              <label for="loginInputEmail">Name Child Category *</label>
                              <input type="text" name="name" class="form-control" id="name"
                                value="<%= child.name %>" placeholder="Name" />

                            </div>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">
                              HỦY
                            </button>
                            <button type="submit" class="btn btn-primary">OK</button>
                          </div>
                          </form>
                      </div>
                    </div>
                  </div>
                  <div class="d-flex justify-content-between">
                    <p>
                      <%= child.name %>
                    </p>
                    <div>
                      <!-- <a href="/category-list/updateChild/<%= child._id %>" class="btn btn-border">Change</a> -->
                      <div class="container container-fluid-custom-mobile-padding">

                        <button class="btn btn-border" role="button" data-toggle="modal"
                          data-target="#change-category-child-<%=child._id %>">
                          Change
                        </button>
                        <a href="/category-list/deleteChild/<%= child._id %>" class="btn btn-border">Delete</a>
                      </div>
                    </div>  
                    </div>
                </tr>
                <%});%>
                  </td>
                  </tr>
              </tbody>
            </div>
            <div class="modal fade" id="change-category-<%=category._id%>" tabindex="-1" role="dialog"
              aria-labelledby="exampleModalLongTitle" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <form method="post" novalidate="novalidate" action="/category-list/updateParent/<%= category._id%>">
                    <div class="modal-body">
                      <div class="form-group">
                        <label for="loginInputEmail">Name Parent Category *</label>
                        <input type="text" name="name" class="form-control" id="name" value="<%= category.name %>"
                          placeholder="Name" />
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        HỦY
                      </button>
                      <button type="submit" class="btn btn-primary">OK</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <div id="tt-pageContent"></div>
            <div class="container-indent">
              <div class="container container-fluid-custom-mobile-padding">

               
              </div>
            </div>
            <div>
              <button class="btn btn-border" role="button" data-toggle="modal"
              data-target="#change-category-<%=category._id%>">
              Change
            </button>

            <a href="/category-list/deleteParent/<%= category._id%>" class="btn btn-border">Delete</a>
            </div>
            <% });} %>

          </div>

          <%- include("partials/script") %>

            <footer>
              <%- include('partials/footer'); %>
            </footer>

</html>